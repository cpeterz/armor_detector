# 说明文档

 ==Task为可执行文件，可直接运行==

### 1.基本思路

1.1  从视频中读取照片，先对照片进行色彩空间转化（BGR到HSV）。

1.2   按照给定的色彩范围将其二值化（inRange），高斯滤波平滑二值图像。

1.3   找出图像中的轮廓，再找出各个轮廓的最小包围正矩形，根据要选用的轮廓的特征（大小，长宽比）进行筛选，再将大小最接近的两个轮廓单独拿出来。

1.4  根据找到的两个轮廓的最小包围正矩形确定四个顶点，将四个顶点依次连接便得到了装甲板的包围矩形。

1.5 根据选用的 inRange 色彩空间范围确定甲板颜色，根据矩形的高度确定大小，将二者在矩形的左下角作输出。

1.6 数字识别未实现。

###2.运用

2.1  整体代码已封装入 detect 类，detect的输入参数是视频的位置；

2.2   detect.parame( )           

 共有六个输入参数，无返回。这些参数对应inRange(  )  二值化范围中两个的 Scalar()，即识别的下限与上限，可用于限制颜色识别范围，默认范围是蓝色。（注意是HSV色彩空间）

**这里设置了参数文档进行调试，可用参数为“blue”,“red1”,”red2”,”green”,分别检测对应的不同颜色的光。**

2.3   detect.function( )

无输入参数，无返回。作用就是实现追踪装甲板，识别其大小和颜色。

### 3.设计过程中遇到的问题即解决思路

 3.1 尝试BGR色彩空间

一开始选用的是BGR色彩空间，识别效果很好很稳定，但后来根据二值图像发现识别的更多的是白光而非想要的蓝色光，难以对红蓝进行区分，于是放弃BGR。

3.2 光线不稳定

转为HSV后，成功找出蓝色光轮廓，但根据二值图像发现右侧光线明显弱于左侧光，若加大光强识别范围，地面反射光线又会被错误识别。于是尝试了各种滤波，最后采用了高斯滤波，并尝试了各种HSV参数，确定了最终参数范围，使得图像识别较为稳定。